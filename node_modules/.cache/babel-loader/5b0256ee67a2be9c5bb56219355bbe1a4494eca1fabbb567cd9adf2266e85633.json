{"ast":null,"code":"import React,{useRef,useEffect,useState}from'react';import IdeaNode from'./IdeaNode';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Board=_ref=>{let{ideas,selectedIdeas,onIdeasChange,onSelectedIdeasChange}=_ref;const canvasRef=useRef(null);const[isDrawing,setIsDrawing]=useState(false);const[dragStart,setDragStart]=useState(null);useEffect(()=>{const canvas=canvasRef.current;if(!canvas)return;const ctx=canvas.getContext('2d');// Set canvas size\ncanvas.width=canvas.offsetWidth;canvas.height=canvas.offsetHeight;// Clear canvas\nctx.clearRect(0,0,canvas.width,canvas.height);// Draw connections\nideas.forEach(idea=>{idea.connections.forEach(connectedId=>{const connectedIdea=ideas.find(i=>i.id===connectedId);if(connectedIdea){drawConnection(ctx,idea,connectedIdea);}});});},[ideas]);const drawConnection=(ctx,idea1,idea2)=>{ctx.beginPath();ctx.moveTo(idea1.x+50,idea1.y+25);// Center of first node\nctx.lineTo(idea2.x+50,idea2.y+25);// Center of second node\nctx.strokeStyle='#e5e7eb';ctx.lineWidth=2;ctx.stroke();};const handleCanvasClick=e=>{const rect=canvasRef.current.getBoundingClientRect();const x=e.clientX-rect.left;const y=e.clientY-rect.top;// Check if click is on an existing idea\nconst clickedIdea=ideas.find(idea=>x>=idea.x&&x<=idea.x+100&&y>=idea.y&&y<=idea.y+50);if(clickedIdea){// Toggle selection\nconst newSelected=selectedIdeas.includes(clickedIdea.id)?selectedIdeas.filter(id=>id!==clickedIdea.id):[...selectedIdeas,clickedIdea.id];onSelectedIdeasChange(newSelected);}else{// Add new idea\nconst newIdea={id:Date.now(),text:'New idea',x:x-50,y:y-25,connections:[]};onIdeasChange([...ideas,newIdea]);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,className:\"absolute inset-0 w-full h-full pointer-events-none\",style:{zIndex:1}}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative bg-white rounded-lg shadow-sm border min-h-96\",style:{height:'500px'},onClick:handleCanvasClick,children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 opacity-5\",style:{backgroundImage:\"\\n              linear-gradient(to right, #000 1px, transparent 1px),\\n              linear-gradient(to bottom, #000 1px, transparent 1px)\\n            \",backgroundSize:'20px 20px'}}),ideas.map(idea=>/*#__PURE__*/_jsx(IdeaNode,{idea:idea,isSelected:selectedIdeas.includes(idea.id),onUpdate:updatedIdea=>{onIdeasChange(ideas.map(i=>i.id===idea.id?updatedIdea:i));},onDelete:()=>{onIdeasChange(ideas.filter(i=>i.id!==idea.id));onSelectedIdeasChange(selectedIdeas.filter(id=>id!==idea.id));}},idea.id)),ideas.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 flex items-center justify-center text-gray-400\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl mb-2\",children:\"\\uD83D\\uDCA1\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-medium mb-2\",children:\"Welcome to MuseBoard!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"Enter a topic above and click \\\"Expand Ideas\\\" to get started\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs mt-2\",children:\"Or click anywhere to add individual ideas\"})]})})]})]});};export default Board;","map":{"version":3,"names":["React","useRef","useEffect","useState","IdeaNode","jsx","_jsx","jsxs","_jsxs","Board","_ref","ideas","selectedIdeas","onIdeasChange","onSelectedIdeasChange","canvasRef","isDrawing","setIsDrawing","dragStart","setDragStart","canvas","current","ctx","getContext","width","offsetWidth","height","offsetHeight","clearRect","forEach","idea","connections","connectedId","connectedIdea","find","i","id","drawConnection","idea1","idea2","beginPath","moveTo","x","y","lineTo","strokeStyle","lineWidth","stroke","handleCanvasClick","e","rect","getBoundingClientRect","clientX","left","clientY","top","clickedIdea","newSelected","includes","filter","newIdea","Date","now","text","className","children","ref","style","zIndex","onClick","backgroundImage","backgroundSize","map","isSelected","onUpdate","updatedIdea","onDelete","length"],"sources":["C:/Extensions/Museboard/src/components/Board.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\r\nimport IdeaNode from './IdeaNode';\r\n\r\nconst Board = ({ ideas, selectedIdeas, onIdeasChange, onSelectedIdeasChange }) => {\r\n  const canvasRef = useRef(null);\r\n  const [isDrawing, setIsDrawing] = useState(false);\r\n  const [dragStart, setDragStart] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) return;\r\n\r\n    const ctx = canvas.getContext('2d');\r\n    \r\n    // Set canvas size\r\n    canvas.width = canvas.offsetWidth;\r\n    canvas.height = canvas.offsetHeight;\r\n\r\n    // Clear canvas\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n    // Draw connections\r\n    ideas.forEach(idea => {\r\n      idea.connections.forEach(connectedId => {\r\n        const connectedIdea = ideas.find(i => i.id === connectedId);\r\n        if (connectedIdea) {\r\n          drawConnection(ctx, idea, connectedIdea);\r\n        }\r\n      });\r\n    });\r\n  }, [ideas]);\r\n\r\n  const drawConnection = (ctx, idea1, idea2) => {\r\n    ctx.beginPath();\r\n    ctx.moveTo(idea1.x + 50, idea1.y + 25); // Center of first node\r\n    ctx.lineTo(idea2.x + 50, idea2.y + 25); // Center of second node\r\n    ctx.strokeStyle = '#e5e7eb';\r\n    ctx.lineWidth = 2;\r\n    ctx.stroke();\r\n  };\r\n\r\n  const handleCanvasClick = (e) => {\r\n    const rect = canvasRef.current.getBoundingClientRect();\r\n    const x = e.clientX - rect.left;\r\n    const y = e.clientY - rect.top;\r\n\r\n    // Check if click is on an existing idea\r\n    const clickedIdea = ideas.find(idea => \r\n      x >= idea.x && x <= idea.x + 100 && \r\n      y >= idea.y && y <= idea.y + 50\r\n    );\r\n\r\n    if (clickedIdea) {\r\n      // Toggle selection\r\n      const newSelected = selectedIdeas.includes(clickedIdea.id)\r\n        ? selectedIdeas.filter(id => id !== clickedIdea.id)\r\n        : [...selectedIdeas, clickedIdea.id];\r\n      onSelectedIdeasChange(newSelected);\r\n    } else {\r\n      // Add new idea\r\n      const newIdea = {\r\n        id: Date.now(),\r\n        text: 'New idea',\r\n        x: x - 50,\r\n        y: y - 25,\r\n        connections: []\r\n      };\r\n      onIdeasChange([...ideas, newIdea]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative\">\r\n      {/* Canvas for connections */}\r\n      <canvas\r\n        ref={canvasRef}\r\n        className=\"absolute inset-0 w-full h-full pointer-events-none\"\r\n        style={{ zIndex: 1 }}\r\n      />\r\n      \r\n      {/* Ideas container */}\r\n      <div \r\n        className=\"relative bg-white rounded-lg shadow-sm border min-h-96\"\r\n        style={{ height: '500px' }}\r\n        onClick={handleCanvasClick}\r\n      >\r\n        {/* Grid background */}\r\n        <div \r\n          className=\"absolute inset-0 opacity-5\"\r\n          style={{\r\n            backgroundImage: `\r\n              linear-gradient(to right, #000 1px, transparent 1px),\r\n              linear-gradient(to bottom, #000 1px, transparent 1px)\r\n            `,\r\n            backgroundSize: '20px 20px'\r\n          }}\r\n        />\r\n\r\n        {/* Idea nodes */}\r\n        {ideas.map(idea => (\r\n          <IdeaNode\r\n            key={idea.id}\r\n            idea={idea}\r\n            isSelected={selectedIdeas.includes(idea.id)}\r\n            onUpdate={(updatedIdea) => {\r\n              onIdeasChange(ideas.map(i => \r\n                i.id === idea.id ? updatedIdea : i\r\n              ));\r\n            }}\r\n            onDelete={() => {\r\n              onIdeasChange(ideas.filter(i => i.id !== idea.id));\r\n              onSelectedIdeasChange(selectedIdeas.filter(id => id !== idea.id));\r\n            }}\r\n          />\r\n        ))}\r\n\r\n        {/* Empty state */}\r\n        {ideas.length === 0 && (\r\n          <div className=\"absolute inset-0 flex items-center justify-center text-gray-400\">\r\n            <div className=\"text-center\">\r\n              <div className=\"text-4xl mb-2\">ðŸ’¡</div>\r\n              <p className=\"text-lg font-medium mb-2\">Welcome to MuseBoard!</p>\r\n              <p className=\"text-sm\">Enter a topic above and click \"Expand Ideas\" to get started</p>\r\n              <p className=\"text-xs mt-2\">Or click anywhere to add individual ideas</p>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Board;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}